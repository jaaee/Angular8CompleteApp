<h2>{{title}}</h2>
<app-filter-textbox (filterChanged)="applyFilter($event)"></app-filter-textbox>
<!-- <button (click)="toggleVisibility()">Show/Hide</button> -->

<button (click)="saveList()">Save To List</button>
<button (click)="loadList()">Load My List</button>
<button (click)="calculateOrderTotalAsync()">web</button>

Order Totals: {{customerOrderTotal}}

<div >
    <table border=1>
            <tr *ngIf="filterCustomer && filterCustomer.length">
                    <td colspan="5">Customer Count</td>
                    <td>{{customers.length}}</td>
                </tr>
                <tr *ngIf="!filterCustomer || !filterCustomer.length">
                    <td colspan="5">No Customer Found</td>
        
                </tr>
        <tr>
            <th (click)='sortCustomers("id")'>
                <img src="./../../../assets/up.png" height="20" width="20" [hidden]="!isAscending" />
                <img src="./../../../assets/down.png" height="20" width="20" [hidden]="isAscending" />
                Customer Id</th>
            <th (click)='sortCustomers("name")'>Name</th>
            <th (click)='sortCustomers("city")'>City</th>
            <th (click)='sortCustomers("customerSince")'>Customer Since</th>
            <th (click)='sortCustomers("orderTotal")'>Ordal Total</th>
        </tr>

        <tr *ngFor='let cust of filterCustomer | arraySorter:"id"'>
            <td>{{cust.id}}</td>
            <td ><a [routerLink]="['/orders',cust.id]">{{cust.name | nameTransform}}</a></td>
            <td>{{cust.city}}</td>
            <td>{{cust.customerSince | date:"dd-MMM-yyyy"}}</td>
            <td>{{cust.orderTotal | currency:currencyCode}}</td>

        </tr>

        <tr *ngIf="filterCustomer && filterCustomer.length">
            <td colspan="4">Order Total</td>
            <td>{{customerOrderTotal | currency:currencyCode}}</td>
        </tr>
        <tr *ngIf="filterCustomer && filterCustomer.length">
            <td colspan="5">Customer Count</td>
            <td>{{customers.length}}</td>
        </tr>
        <tr *ngIf="!filterCustomer || !filterCustomer.length">
            <td colspan="5">No Customer Found</td>

        </tr>
    </table>
</div>